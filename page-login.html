<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
    function LoginUser()
    {
    var username = document.getElementById("username").value;
    var password = document.getElementById("password").value;
    
    google.script.run.withSuccessHandler(function(output) 
    {
      if(output == 'TRUE')
      {
        document.getElementById("loginDisplay").style.display = "none";

        var a = document.createElement('a'); 
        var link = document.createTextNode("Welcome, click here to continue to homepage");
          
        a.appendChild(link); 
        a.href = "https://script.google.com/macros/s/AKfycbwn9vh5Xp9fZoDXDYxY5EieMMadPr9P7GcRZD7qu14/dev?v=home"; 
        document.body.appendChild(a);   
      }
      else if(output == 'FALSE')
      {
        document.getElementById("errorMessage").innerHTML = "Failed to Login";     
      }    
    }).checkLogin(username, password);
    }
    </script>
  </head>
  <body>
    <div id="loginDisplay" >
      <div class="container">

        <h1>Login</h1>

        <div class="row">
          <div class="input-field col s3">
            <input id="username" type="text" class="validate">
            <label for="username">Username</label>
          </div>

          <div class="input-field col s3">
            <input id="password" type="password" class="validate">
            <label for="password">Passcode</label>
          </div>
        </div>

        <div class= "row">
          <button onclick="LoginUser()" class="waves-effect waves-light btn-large light-blue accent-4"><i class="material-icons left">arrow_forward</i>Login</button>
          <span id="errorMessage" style="color: red" ></span>
        </div>

        <a href="https://script.google.com/macros/s/AKfycbwn9vh5Xp9fZoDXDYxY5EieMMadPr9P7GcRZD7qu14/dev?v=reg" id="butn2" class="waves-effect waves-light btn green accent-3"><i 
        class="material-icons   right">add</i>Register</a>
        

      </div>
    </div>
  </body>
</html>